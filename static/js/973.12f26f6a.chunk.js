"use strict";(self.webpackChunkweb_workshop=self.webpackChunkweb_workshop||[]).push([[973],{37973:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var o=r(65043),a=r(73216),t=r(35475),c=r(22019),n=r(59251),l=r(65681),i=r(98617),d=r(86213),w=r(70579);const h=()=>{const e=(0,a.Zp)(),[s,r]=((0,a.zy)(),(0,o.useState)(null)),[h]=(0,t.ok)();(0,o.useEffect)((()=>{const e=h.get("token");e?r(e):c.Ay.error("\u65e0\u6548\u7684\u5bc6\u7801\u91cd\u7f6e\u94fe\u63a5\uff01")}),[h]);return(0,w.jsxs)(n.t,{style:{height:"100vh"},title:"\u91cd\u7f6e\u5bc6\u7801",subTitle:"\u8bf7\u8f93\u5165\u60a8\u7684\u65b0\u5bc6\u7801",onFinish:async r=>{if(r.newPassword===r.confirmPassword)if(s)try{const o=await d.A.post("/user/change-password/action",{token:s,newPassword:r.newPassword});c.Ay.success(o.data.message),e("/login")}catch(t){var o,a;const e=t;c.Ay.error((null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.error)||"\u5bc6\u7801\u91cd\u7f6e\u5931\u8d25\uff01")}else c.Ay.error("\u7f3a\u5c11\u91cd\u7f6e\u4ee4\u724c\uff01");else c.Ay.error("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff01")},children:[(0,w.jsx)(l.A.Password,{name:"newPassword",fieldProps:{size:"large",prefix:(0,w.jsx)(i.A,{})},placeholder:"\u65b0\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801\uff01"}],allowClear:!0}),(0,w.jsx)(l.A.Password,{name:"confirmPassword",fieldProps:{size:"large",prefix:(0,w.jsx)(i.A,{})},placeholder:"\u786e\u8ba4\u65b0\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801\uff01"}],allowClear:!0})]})}},98617:(e,s,r)=>{r.d(s,{A:()=>l});var o=r(58168),a=r(65043);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var c=r(22172),n=function(e,s){return a.createElement(c.A,(0,o.A)({},e,{ref:s,icon:t}))};const l=a.forwardRef(n)}}]);
//# sourceMappingURL=973.12f26f6a.chunk.js.map